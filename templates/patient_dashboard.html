{% extends "base.html" %}

{% block navbar %}
{% include 'includes/_dashboard_navbar.html' %}
{% endblock %}
<!--patient_acc=patient_acc, patient_info=patient_info, acc_id=acc_id) -->
{% block content %}
<div class="container-fluid">
  <div class="row">
    <div class="header col-md-10 offset-md-1">
      <h1 class="page-header">
        Dashboard <small>Welcome {{ name }}</small>
      </h1>
      <nav aria-label="breadcrumb">
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="#">Home</a></li>
          <li class="breadcrumb-item"><a href="#">Patient</a></li>
          <li class="breadcrumb-item active" aria-current="page">Profile</li>
        </ol>
      </nav>
    </div>
    <div class="col-md-8 offset-md-2">
      <h2 class="sub-header">My Profile</h2>

      <div class="table-responsive">
        {% if patient_info == None %}
            <h6>No info </h6>
            <a href="/createPatient/{{ acc_id }}" class="btn btn-default btn-outline-secondary" style="margin: 5px;">Update my personal informations</a>
        {% else %}
          <table class="table table-striped">
            <thead>
              <tr>
                <th>Full Name</th>
                <th>Email</th>  
                <th>Birth Certificate No.</th>
                <th>Home Address</th>
                <th>Telephone Number</th>
                <th>Medication</th>
                <th></th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>{{ patient_acc.get_full_name() }}</td>
                <td>{{ patient_acc.get_email() }}</td>
                <td>{{ patient_info.get_birth_cert() }}</td>
                <td>{{ patient_info.get_home_addr() }}</td>
                <td>{{ patient_info.get_telephone() }}</td>
                <td>{{ patient_info.get_medication() }}</td>
                <td>
                  <form action="{{url_for('update_patient', uid=acc_id)}}" method="POST">
                    <input type="submit" value="Update" class="btn btn-warning">
                  </form>
                </td>
              </tr>
            </tbody>
          </table>   
        {% endif %}
      </div>
    </div>
  </div>
</div>
{% endblock %}